{
  "version": 3,
  "file": "iwe7-core.js",
  "sources": [
    "ng://iwe7/core/out/src/base-component.ts",
    "ng://iwe7/core/out/src/core.module.ts"
  ],
  "sourcesContent": [
    "// 给予rxjs设计的组件\nimport {\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ChangeDetectorRef,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\nimport { Observable, merge } from 'rxjs';\nimport { first, filter, takeWhile } from 'rxjs/operators';\n\nexport class BaseComponent implements OnChanges, OnInit, OnDestroy {\n  @Input() props: Observable<any> = new Observable();\n  // 需要注销开关\n  needDestory: boolean = false;\n  constructor(\n    public cd: ChangeDetectorRef\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('props' in changes) {\n      if (!changes['props'].isFirstChange) {\n        this.__propsHandler();\n      }\n    }\n  }\n  /**\n   * 注销\n   */\n  ngOnDestroy() {\n    this.needDestory = true;\n  }\n\n  ngOnInit() {\n    this.__propsHandler();\n  }\n\n  setProps(props: Observable<any>) {\n    this.props = merge(this.props, props);\n    this.__propsHandler();\n  }\n\n  private __propsHandler() {\n    this.props = merge(\n      // 添加默认值\n      this.props.pipe(first((val, idx) => idx === 0, {})),\n      this.props\n    ).pipe(\n      // 去除{}\n      filter(val => Object.keys(val).length > 0),\n      // 自动注销\n      takeWhile(val => !this.needDestory)\n    );\n    this.props.subscribe(res => {\n      this.cd.markForCheck();\n    });\n  }\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [],\n  exports: [],\n  entryComponents: []\n})\nexport class Iwe7CoreModule {}\n"
  ],
  "names": [],
  "mappings": ";;;;;ACAA;IAAA;;;;;IAGA,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,OAAO,EAAE,CAAC,YAAY,CAAC;gBACvB,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,EAAE;gBACX,eAAe,EAAE,EAAE;aACpB,EAAD,EAAA;;ADPA;IAeE,uBACS,EADX;QACW,IAAX,CAAA,EAAa,GAAF,EAAE,CAAb;QAJA,IAAA,CAAA,KAAA,GAAoC,IAAI,UAAU,EAAE,CAApD;QAEA,IAAA,CAAA,WAAA,GAAyB,KAAK,CAA9B;KAGM;IAEJ,mCAAW,GAAX,UAAY,OAAsB;QAChC,IAAI,OAAO,IAAI,OAAO,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE;gBACnC,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;KACF;IAID,mCAAW,GAAX;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;KACzB;IAED,gCAAQ,GAAR;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAED,gCAAQ,GAAR,UAAS,KAAsB;QAC7B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAEO,sCAAc,GAAd;QAAA;QACN,IAAI,CAAC,KAAK,GAAG,KAAK,CAEhB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,GAAG,KAAK,CAAC,GAAA,EAAE,EAAE,CAAC,CAAC,EACnD,IAAI,CAAC,KAAK,CACX,CAAC,IAAI,CAEJ,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,GAAA,CAAC,EAE1C,SAAS,CAAC,UAAA,GAAG,IAAI,OAAA,CAAC,KAAI,CAAC,WAAW,GAAA,CAAC,CACpC,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAA,GAAG;YACtB,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;SACxB,CAAC,CAAC;;;;;IA3CP,OAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;;;;;"
}
