{
  "version": 3,
  "file": "iwe7-core.umd.min.js",
  "sources": [
    "ng://iwe7/core/out/src/core.module.ts",
    "ng://iwe7/core/out/src/base-component.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [],\n  exports: [],\n  entryComponents: []\n})\nexport class Iwe7CoreModule {}\n",
    "// 给予rxjs设计的组件\nimport {\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ChangeDetectorRef,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\nimport { Observable, merge } from 'rxjs';\nimport { first, filter, takeWhile } from 'rxjs/operators';\n\nexport class BaseComponent implements OnChanges, OnInit, OnDestroy {\n  @Input() props: Observable<any> = new Observable();\n  // 需要注销开关\n  needDestory: boolean = false;\n  constructor(\n    public cd: ChangeDetectorRef\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('props' in changes) {\n      if (!changes['props'].isFirstChange) {\n        this.__propsHandler();\n      }\n    }\n  }\n  /**\n   * 注销\n   */\n  ngOnDestroy() {\n    this.needDestory = true;\n  }\n\n  ngOnInit() {\n    this.__propsHandler();\n  }\n\n  setProps(props: Observable<any>) {\n    this.props = merge(this.props, props);\n    this.__propsHandler();\n  }\n\n  private __propsHandler() {\n    this.props = merge(\n      // 添加默认值\n      this.props.pipe(first((val, idx) => idx === 0, {})),\n      this.props\n    ).pipe(\n      // 去除{}\n      filter(val => Object.keys(val).length > 0),\n      // 自动注销\n      takeWhile(val => !this.needDestory)\n    );\n    this.props.subscribe(res => {\n      this.cd.markForCheck();\n    });\n  }\n}\n"
  ],
  "names": [
    "Iwe7CoreModule",
    "type",
    "NgModule",
    "args",
    "imports",
    "CommonModule",
    "declarations",
    "exports",
    "entryComponents",
    "BaseComponent",
    "cd",
    "this",
    "props",
    "Observable",
    "needDestory",
    "prototype",
    "ngOnChanges",
    "changes",
    "isFirstChange",
    "__propsHandler",
    "ngOnDestroy",
    "ngOnInit",
    "setProps",
    "merge",
    "_this",
    "pipe",
    "first",
    "val",
    "idx",
    "filter",
    "Object",
    "keys",
    "length",
    "takeWhile",
    "subscribe",
    "res",
    "markForCheck",
    "Input"
  ],
  "mappings": "mbAAA,IAAAA,EAAA,2BAGA,CAAAC,KAACC,EAAAA,SAADC,KAAA,CAAU,CACRC,QAAS,CAACC,EAAAA,cACVC,aAAc,GACdC,QAAS,GACTC,gBAAiB,OCNnB,IAAAC,EAAA,WAeE,SAAFA,EACWC,GAAAC,KAAXD,GAAWA,EAJXC,KAAAC,MAAoC,IAAIC,EAAAA,WAExCF,KAAAG,aAAyB,SAKvBL,EAAFM,UAAAC,YAAE,SAAYC,GACN,UAAWA,IACRA,EAAe,MAAEC,eACpBP,KAAKQ,mBAOXV,EAAFM,UAAAK,YAAE,WACET,KAAKG,aAAc,GAGrBL,EAAFM,UAAAM,SAAE,WACEV,KAAKQ,kBAGPV,EAAFM,UAAAO,SAAE,SAASV,GACPD,KAAKC,MAAQW,EAAAA,MAAMZ,KAAKC,MAAOA,GAC/BD,KAAKQ,kBAGCV,EAAVM,UAAAI,eAAU,WAAA,IAAVK,EAAAb,KACIA,KAAKC,MAAQW,EAAAA,MAEXZ,KAAKC,MAAMa,KAAKC,EAAAA,MAAM,SAACC,EAAKC,GAAQ,OAAQ,IAARA,GAAW,KAC/CjB,KAAKC,OACLa,KAEAI,EAAAA,OAAO,SAAAF,GAAO,OAA0B,EAA1BG,OAAOC,KAAKJ,GAAKK,SAE/BC,EAAAA,UAAU,SAAAN,GAAO,OAACH,EAAKV,eAEzBH,KAAKC,MAAMsB,UAAU,SAAAC,GACnBX,EAAKd,GAAG0B,oBAtDd,qBAYAxB,MAAA,CAAA,CAAAX,KAAGoC,EAAAA"
}
