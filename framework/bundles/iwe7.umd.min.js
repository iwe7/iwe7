!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/router"),require("rxjs"),require("rxjs/observable/fromPromise"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("iwe7",["exports","@angular/core","@angular/common","@angular/router","rxjs","rxjs/observable/fromPromise","rxjs/operators"],t):t(e.iwe7={},e.ng.core,e.ng.common,e.ng.router,e.rxjs,e.Rx.Observable,e.Rx.Observable.prototype)}(this,function(e,t,o,r,u,n,s){"use strict";function c(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(u){n={error:u}}finally{try{r&&!r.done&&(o=i["return"])&&o.call(i)}finally{if(n)throw n.error}}return a}var i=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:r.ROUTES,useValue:e,multi:!0}]}},t}();i.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule],declarations:[]}]}];var a=new t.InjectionToken("LAZY_COMPONENTS",{providedIn:"root",factory:function(){return[]}}),p=new Map,f=function(){function e(e){this.moduleFactoryLoader=e}return e.prototype.load=function(r){var e=this;return new Promise(function(o,t){e.moduleFactoryLoader.load(r).then(function(e){var t=new l(e);p.set(r,t),o(t)})["catch"](function(e){t(e)})})},e.prototype.getComponentModuleByPath=function(e){var o=p.get(e);return o?new Promise(function(e,t){e(o)}):this.load(e)},e}(),l=function(){function e(e){this.moduleFactory=e}return e.prototype.getComponent=function(e,t){var o=this.moduleFactory.create(t),r=o.componentFactoryResolver,n=o.instance.getComponentByName(e);return r.resolveComponentFactory(n)},e}(),d=function(){function e(e,t,o){var r=this;this.moduleFactoryLoader=e,this.moduleRef=t,this.lazyComponentConfig=o,this.components=new Map,this.lazyComponentModuleFactory=new f(this.moduleFactoryLoader),this.lazyComponentConfig.map(function(e){r.components.set(e.path,e.loadChildren)})}return e.prototype.init=function(t,o){var r=this,e=Array.from(this.components.keys()).filter(function(e){return t.querySelector(e)});return e.length?n.fromPromise(Promise.all(e.map(function(e){return r.create(e,o)})).then(function(e){return undefined})):u.of(undefined)},e.prototype.create=function(o,r){var n=this,e=this.components.get(o);return this.lazyComponentModuleFactory.getComponentModuleByPath(e).then(function(e){var t=e.getComponent(o,n.moduleRef.injector);r.createComponent(t)})},e}();d.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],d.ctorParameters=function(){return[{type:t.NgModuleFactoryLoader},{type:t.NgModuleRef},{type:Array,decorators:[{type:t.Inject,args:[a]}]}]},d.ngInjectableDef=t.defineInjectable({factory:function(){return new d(t.inject(t.NgModuleFactoryLoader),t.inject(t.NgModuleRef),t.inject(a))},token:d,providedIn:"root"});var y=function(){},m=function(){};m.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule]}]}];var h=function(){function e(){this.state={}}return e.prototype.init=function(t,o){var r=this,n=[],e=function(o){var e=t[o].pipe(s.map(function(e){return(t={})[""+o]=e,t;var t}));n.push(e)};for(var i in t)e(i);var a=u.merge.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}(n)).pipe(s.scan(function(e,t){return Object.assign({},e,t)},{}),s.map(function(e){return r.styledash(o.nativeElement).set(e),e}));return a.pipe(s.first()).subscribe(function(e){r.state=e}),a.subscribe(function(e){}),a},e.prototype.getState=function(e){return e?this.state[e]||{}:this.state},e.prototype.parse=function(e){return"boolean"==typeof e?e?1:0:e},e.prototype.styledash=function(r){var n=this;return{set:function(t,o){return"object"==typeof t&&o===undefined?Object.keys(t).forEach(function(e){return n.styledash(r).set(e,t[e])}):"object"==typeof o?Object.keys(o).forEach(function(e){n.styledash(r).set(t+"-"+e,o[e])}):r.style.setProperty("--"+t,n.parse(o))},get:function(e){return r.style.getPropertyValue("--"+e)}}},e}();h.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[]},h.ngInjectableDef=t.defineInjectable({factory:function(){return new h},token:h,providedIn:"root"});var g=function(){};g.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule],declarations:[],exports:[],entryComponents:[]}]}];var v=function(){function e(e){this.cd=e,this.props=new u.Observable,this.needDestory=!1}return e.prototype.ngOnChanges=function(e){"props"in e&&(e.props.isFirstChange||this.__propsHandler())},e.prototype.ngOnDestroy=function(){this.needDestory=!0},e.prototype.ngOnInit=function(){this.__propsHandler()},e.prototype.setProps=function(e){this.props=u.merge(this.props,e),this.__propsHandler()},e.prototype.__propsHandler=function(){var t=this;this.props=u.merge(this.props.pipe(s.first(function(e,t){return 0===t},{})),this.props).pipe(s.filter(function(e){return 0<Object.keys(e).length}),s.takeWhile(function(e){return!t.needDestory})),this.props.subscribe(function(e){t.cd.markForCheck()})},e}();v.propDecorators={props:[{type:t.Input}]},e.Iwe7LazyLoadModule=i,e.LazyLoaderService=d,e.LazyComponentModuleBase=y,e.LazyComponentModule=l,e.LazyComponentModuleFactory=f,e.LAZY_COMPONENTS=a,e.IcssModule=m,e.IcssService=h,e.Iwe7CoreModule=g,e.BaseComponent=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=iwe7.umd.min.js.map
