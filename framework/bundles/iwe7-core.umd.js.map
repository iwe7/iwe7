{
  "version": 3,
  "file": "iwe7-core.umd.js",
  "sources": [
    "ng://iwe7/core/out/src/base-component.ts",
    "ng://iwe7/core/out/src/core.module.ts"
  ],
  "sourcesContent": [
    "// 给予rxjs设计的组件\nimport {\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ChangeDetectorRef,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\nimport { Observable, merge } from 'rxjs';\nimport { first, filter, takeWhile } from 'rxjs/operators';\n\nexport class BaseComponent implements OnChanges, OnInit, OnDestroy {\n  @Input() props: Observable<any> = new Observable();\n  // 需要注销开关\n  needDestory: boolean = false;\n  constructor(\n    public cd: ChangeDetectorRef\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('props' in changes) {\n      if (!changes['props'].isFirstChange) {\n        this.__propsHandler();\n      }\n    }\n  }\n  /**\n   * 注销\n   */\n  ngOnDestroy() {\n    this.needDestory = true;\n  }\n\n  ngOnInit() {\n    this.__propsHandler();\n  }\n\n  setProps(props: Observable<any>) {\n    this.props = merge(this.props, props);\n    this.__propsHandler();\n  }\n\n  private __propsHandler() {\n    this.props = merge(\n      // 添加默认值\n      this.props.pipe(first((val, idx) => idx === 0, {})),\n      this.props\n    ).pipe(\n      // 去除{}\n      filter(val => Object.keys(val).length > 0),\n      // 自动注销\n      takeWhile(val => !this.needDestory)\n    );\n    this.props.subscribe(res => {\n      this.cd.markForCheck();\n    });\n  }\n}\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [],\n  exports: [],\n  entryComponents: []\n})\nexport class Iwe7CoreModule {}\n"
  ],
  "names": [
    "Input",
    "merge",
    "first",
    "filter",
    "takeWhile",
    "Observable",
    "CommonModule",
    "NgModule"
  ],
  "mappings": ";;;;;;ACAA,IAAA,cAAA,kBAAA,YAAA;IAAA,SAAA,cAAA,GAAA;;;;;IAGA,EAAA,IAAA,EAACO,aAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,OAAO,EAAE,CAACD,mBAAY,CAAC;gBACvB,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,EAAE;gBACX,eAAe,EAAE,EAAE;aACpB,EAAD,EAAA;;ADPA,IAAA,aAAA,kBAAA,YAAA;IAeE,SAAF,aAAA,CACW,EADX,EAAA;QACW,IAAX,CAAA,EAAa,GAAF,EAAE,CAAb;QAJA,IAAA,CAAA,KAAA,GAAoC,IAAID,eAAU,EAAE,CAApD;QAEA,IAAA,CAAA,WAAA,GAAyB,KAAK,CAA9B;KAGM;IAEJ,aAAF,CAAA,SAAA,CAAA,WAAa,GAAX,UAAY,OAAsB,EAApC;QACI,IAAI,OAAO,IAAI,OAAO,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE;gBACnC,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;KACF,CAAH;IAIE,aAAF,CAAA,SAAA,CAAA,WAAa,GAAX,YAAF;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;KACzB,CAAH;IAEE,aAAF,CAAA,SAAA,CAAA,QAAU,GAAR,YAAF;QACI,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB,CAAH;IAEE,aAAF,CAAA,SAAA,CAAA,QAAU,GAAR,UAAS,KAAsB,EAAjC;QACI,IAAI,CAAC,KAAK,GAAGJ,UAAK,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB,CAAH;IAEU,aAAV,CAAA,SAAA,CAAA,cAAwB,GAAd,YAAV;QAAU,IAAV,KAAA,GAAA,IAAA,CAAA;QACI,IAAI,CAAC,KAAK,GAAGA,UAAK,CAEhB,IAAI,CAAC,KAAK,CAAC,IAAI,CAACC,eAAK,CAAC,UAAC,GAAG,EAAE,GAAG,EAFrC,EAE0C,OAAA,GAAG,KAAK,CAAC,CAFnD,EAEmD,EAAE,EAAE,CAAC,CAAC,EACnD,IAAI,CAAC,KAAK,CACX,CAAC,IAAI,CAEJC,gBAAM,CAAC,UAAA,GAAG,EANhB,EAMoB,OAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAN/C,EAM+C,CAAC,EAE1CC,mBAAS,CAAC,UAAA,GAAG,EARnB,EAQuB,OAAA,CAAC,KAAI,CAAC,WAAW,CARxC,EAQwC,CAAC,CACpC,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAA,GAAG,EAA5B;YACM,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;SACxB,CAAC,CAAC;;;;;IA3CP,OAAA,EAAA,CAAA,EAAA,IAAA,EAAGJ,UAAK,EAAR,EAAA;;;;;;;;;;;;;;"
}
