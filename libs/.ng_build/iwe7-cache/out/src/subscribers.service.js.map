{"version":3,"file":"subscribers.service.js","sourceRoot":"","sources":["subscribers.service.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;;AAMtD,MAAM,yBAA0B,SAAQ,WAAyB;IAE/D;QACE,KAAK,EAAE,CAAC;oBAFK,kCAAkC;KAGhD;;;;;IAEO,WAAW,CAAC,GAAW;QAC7B,qBAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC9B,GAAG,CAAC,WAAW,EAAE,CAAC;SACnB;;;;;;;IAGI,MAAM,CAAC,GAAW,EAAE,YAA0B;QACnD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QAC5B,MAAM,CAAC,IAAI,CAAC;;;;;;IAGP,OAAO,CAAC,GAAW;QACxB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;;;;YAxBpB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CacheMemory } from './chache-memory.service';\nimport { Subscription } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SubscribersService extends CacheMemory<Subscription> {\n  desc: string = '大家好我是，subscribers service，我服保存订阅';\n  constructor() {\n    super();\n  }\n\n  private unsubscribe(key: string) {\n    let sub = this.get(key);\n    if (sub && sub['unsubscribe']) {\n      sub.unsubscribe();\n    }\n  }\n\n  public addSub(key: string, subscribtion: Subscription): this {\n    this.unsubscribe(key);\n    this.set(key, subscribtion);\n    return this;\n  }\n\n  public destory(key: string) {\n    this.unsubscribe(key);\n    this.delete(key);\n  }\n}\n"]}