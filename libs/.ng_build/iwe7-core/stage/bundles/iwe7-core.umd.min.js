!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("iwe7/cache")):"function"==typeof define&&define.amd?define("iwe7/core",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","iwe7/cache"],e):e((t.iwe7=t.iwe7||{},t.iwe7.core={}),t.ng.core,t.ng.common,t.rxjs,t.Rx.Observable.prototype,t.iwe7.cache)}(this,function(t,r,e,o,n,i){"use strict";var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};function c(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var s=function(){function t(t){this.view=t,this.getViewRef=new r.EventEmitter}return t.prototype.ngOnInit=function(){this.getViewRef.emit(this.view)},t}();s.decorators=[{type:r.Directive,args:[{selector:"[getViewRef]",exportAs:"getViewRef"}]}],s.ctorParameters=function(){return[{type:r.ViewContainerRef}]},s.propDecorators={getViewRef:[{type:r.Output}]};var p=function(){};p.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule],declarations:[s],exports:[s],providers:[]}]}];var u=function(){function t(t){var e=this;this.injector=t,this.props=new o.BehaviorSubject({}),this.__events=new o.Subject,this.eventsEmit=new r.EventEmitter,this.needDestory=!1,this.cd=this.injector.get(r.ChangeDetectorRef),this.memory=this.injector.get(i.CacheMemoryService),this.__subscribers=this.injector.get(i.SubscribersService),this.__events.subscribe(function(t){e.eventsEmit.emit(t)})}return t.prototype.ngOnChanges=function(t){"props"in t&&(t.props.isFirstChange||this.__propsHandler())},t.prototype.ngOnDestroy=function(){this.__subscribers.destory(this.__id),this.__sub.unsubscribe(),this.needDestory=!0},t.prototype.ngOnInit=function(){this.__propsHandler()},t.prototype.setProps=function(e){r.ɵisObservable(e)||(e=new o.BehaviorSubject(e)),this.props=this.props.pipe(n.switchMap(function(t){return e})),this.__propsHandler()},t.prototype.setData=function(t){this.props.next(Object.assign({},this._props,t))},t.prototype.__propsHandler=function(){var e=this;this.__sub=this.props.subscribe(function(t){t=t||{},"data-id"in(e._props=t)||(t["data-id"]=e.__getUuid()),e.__id=t["data-id"],e.memory.set(e.__id,e._props),e.onPropsChange(t)})},t.prototype.getProps=function(){return this._props},t.prototype.__addSub=function(t){this.__subscribers.addSub(this.__id,t)},t.prototype.__getUuid=function(){var o=(new Date).getTime();return"meepo.yxxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"===t?e:3&e|8).toString(16)})},t.prototype.onPropsChange=function(t){this.cd.detectChanges()},t}();u.propDecorators={props:[{type:r.Input}],eventsEmit:[{type:r.Output}],__id:[{type:r.HostBinding,args:["attr.data-id"]}]};var l=function(){function t(t){this.isShow=t}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.isDevMode()&&this.isShow&&console.log.apply(console,arguments)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.isDevMode()&&this.isShow&&console.warn.apply(console,arguments)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.isDevMode()&&this.isShow&&console.error.apply(console,arguments)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.isDevMode()&&this.isShow&&console.log.apply(console,arguments)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(r.isDevMode()&&this.isShow){var o=Array.prototype.slice.call(arguments);console.log.apply(console,["[DEBUG]"].concat(o))}},t}();function d(){return!0}l.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],l.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:[f]}]}]},l.ngInjectableDef=r.defineInjectable({factory:function(){return new l(r.inject(f))},token:l,providedIn:"root"});var f=new r.InjectionToken("IWE7_LOGGER_SHOW",{providedIn:"root",factory:d}),v=function(){function t(){}return t.prototype.get=function(){var o=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"===t?e:3&e|8).toString(16)})},t}();v.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],v.ctorParameters=function(){return[]},v.ngInjectableDef=r.defineInjectable({factory:function(){return new v},token:v,providedIn:"root"});var y=["moz","ms","webkit"];var g=function(){if("undefined"==typeof window)return function(){return null};if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var n,t=y.filter(function(t){return t+"RequestAnimationFrame"in window})[0];return t?window[t+"RequestAnimationFrame"]:(n=0,function(t){var e=(new Date).getTime(),o=Math.max(0,16-(e-n)),r=window.setTimeout(function(){t(e+o)},o);return n=e+o,r})}();var h=function(){function t(t){this.doc=t}return t.prototype.setScrollTop=function(t,e){void 0===e&&(e=0),t===window?(this.doc.body.scrollTop=e,this.doc.documentElement.scrollTop=e):t.scrollTop=e},t.prototype.getOffset=function(t){var e={top:0,left:0};if(!t||!t.getClientRects().length)return e;var o=t.getBoundingClientRect();if(o.width||o.height){var r=t.ownerDocument.documentElement;e.top=o.top-r.clientTop,e.left=o.left-r.clientLeft}else e.top=o.top,e.left=o.left;return e},t.prototype.getScroll=function(t,e){void 0===e&&(e=!0);var o=t||window,r=e?"scrollTop":"scrollLeft",n=o===window,i=n?o[e?"pageYOffset":"pageXOffset"]:o[r];return n&&"number"!=typeof i&&(i=this.doc.documentElement[r]),i},t.prototype.scrollTo=function(t,e,o,r){var n=this;void 0===e&&(e=0);var i=t||window,a=this.getScroll(i),c=Date.now(),s=function(){var t=Date.now()-c;n.setScrollTop(i,(o||function(t,e,o,r){var n=o-e,i=t/(r/2);return i<1?n/2*i*i*i+e:n/2*((i-=2)*i*i+2)+e})(t,a,e,450)),t<450?g(s):r&&r()};g(s)},t}();h.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:[e.DOCUMENT]}]}]},h.ngInjectableDef=r.defineInjectable({factory:function(){return new h(r.inject(e.DOCUMENT))},token:h,providedIn:"root"});var m=function(){function t(t){this.injector=t,this.classMap={}}return t.prototype.updateHostClass=function(t,e){this.renderer=this.injector.get(r.Renderer2,null),this.renderer&&(this.removeClass(t,this.classMap,this.renderer),this.classMap=Object.assign({},e),this.addClass(t,this.classMap,this.renderer))},t.prototype.removeClass=function(t,e,o){for(var r in e)e.hasOwnProperty(r)&&o.removeClass(t,r)},t.prototype.addClass=function(t,e,o){for(var r in e)e.hasOwnProperty(r)&&e[r]&&o.addClass(t,r)},t}();m.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],m.ctorParameters=function(){return[{type:r.Injector}]},m.ngInjectableDef=r.defineInjectable({factory:function(){return new m(r.inject(r.INJECTOR))},token:m,providedIn:"root"});var w="undefined"==typeof window?function(){return null}:window.matchMedia?window.matchMedia.bind(window):function(t){return{media:t,matches:!1,addListener:function(){},removeListener:function(){}}},b=function(){function t(){}return t.prototype.matchMedia=function(t){return w(t)},t}();b.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],b.ngInjectableDef=r.defineInjectable({factory:function(){return new b},token:b,providedIn:"root"});var x={top:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},topCenter:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},topLeft:{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},topRight:{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},right:{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},rightTop:{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},rightBottom:{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},bottom:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},bottomCenter:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},bottomLeft:{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},bottomRight:{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},left:{originX:"start",originY:"center",overlayX:"end",overlayY:"center"},leftTop:{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},leftBottom:{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}},I=S([x.top,x.right,x.bottom,x.left]),_=S([x.bottomLeft,x.topLeft]),j=[x.bottomLeft,{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}];function O(e,t){return function(t,e){for(var o=-1,r=null==t?0:t.length,n=Array(r);++o<r;)n[o]=e(t[o],o,t);return n}(t,function(t){return e[t]})}function S(t){return null==t?[]:O(t,Object.keys(t))}var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(m);D.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],D.ngInjectableDef=r.defineInjectable({factory:function(){return new D(r.inject(r.INJECTOR))},token:D,providedIn:"root"});var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(b);X.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],X.ngInjectableDef=r.defineInjectable({factory:function(){return new X},token:X,providedIn:"root"});var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(h);Y.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],Y.ngInjectableDef=r.defineInjectable({factory:function(){return new Y(r.inject(e.DOCUMENT))},token:Y,providedIn:"root"}),t.Iwe7CoreModule=p,t.Iwe7Base=u,t.GetViewRefDirective=s,t.LoggerService=l,t.IWE7_LOGGER_SHOW=f,t.UuidService=v,t.ScrollService=h,t.HostClassService=m,t.MatchMediaService=b,t.matchMedia=w,t.reqAnimFrame=g,t.cancelRequestAnimationFrame=function(t){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(t);var e=y.filter(function(t){return t+"CancelAnimationFrame"in window||t+"CancelRequestAnimationFrame"in window})[0];return e?(window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]).call(this,t):clearTimeout(t)},t.trimWhiteSpace=function(e){Array.from(e.childNodes).forEach(function(t){3===t.nodeType&&e.removeChild(t)})},t.NzUpdateHostClassService=D,t.NzMatchMediaService=X,t.NzScrollService=Y,t.POSITION_MAP=x,t.DEFAULT_4_POSITIONS=I,t.DEFAULT_DROPDOWN_POSITIONS=_,t.DEFAULT_DATEPICKER_POSITIONS=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],t.DEFAULT_MENTION_POSITIONS=j,t.ɵa=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=iwe7-core.umd.min.js.map
